{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/icons/onlineIcon.png","components/InfoBar/InfoBar.js","components/InfoBar/icons/closeIcon.png","components/Message/Message.js","components/Messages/Messages.js","components/TextContainer/TextContainer.js","App.js","reportWebVitals.js","index.js"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","event","target","value","onClick","preventDefault","to","InfoBar","src","onlineIcon","alt","href","Message","message","user","text","isSentByCurrentUser","trimmedName","trim","toLowerCase","ReactEmoji","emojify","Messages","messages","i","length","console","log","map","TextContainer","users","Chat","location","setUsers","setMessage","setMessages","ENDPOINT","connectionOptions","reconnectionAttempts","timeout","transports","useEffect","queryString","parse","search","io","connect","emit","off","on","sendMessage","onKeyPress","key","e","App","path","exact","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b6124a90.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport queryString from 'query-string';\r\nimport io from 'socket.io-client';\r\nimport './Chat.css';\r\nimport '../Input/Input.css';\r\nimport InfoBar from './../InfoBar/InfoBar';\r\nimport Messages from './../Messages/Messages';\r\nimport TextContainer from './../TextContainer/TextContainer';\r\nlet socket;\r\nconst Chat = ({ location }) => {\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n  const [users, setUsers] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const ENDPOINT = 'https://chat-app9798.herokuapp.com/';\r\n  var connectionOptions = {\r\n    'force new connection': true,\r\n    reconnectionAttempts: 'Infinity',\r\n    timeout: 10000,\r\n    transports: ['websocket'],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const { name, room } = queryString.parse(location.search);\r\n    socket = io.connect(ENDPOINT, connectionOptions);\r\n    setName(name);\r\n    setRoom(room);\r\n    // console.log(socket);\r\n    socket.emit('join', { name, room });\r\n    return () => {\r\n      socket.emit('disconnect');\r\n      socket.off();\r\n    };\r\n  }, [ENDPOINT, location.search]);\r\n  useEffect(() => {\r\n    socket.on('message', (message) => {\r\n      setMessages((messages) => [...messages, message]);\r\n    });\r\n    socket.on('roomData', ({ users }) => {\r\n      setUsers(users);\r\n    });\r\n  }, []);\r\n  //function for sending messages\r\n  const sendMessage = (event) => {\r\n    event.preventDefault();\r\n    if (message) {\r\n      socket.emit('sendMessage', message, () => setMessage(''));\r\n    }\r\n  };\r\n  console.log(message, messages);\r\n  return (\r\n    <div className='outerContainer'>\r\n      <div className='container'>\r\n        <InfoBar room={room} />\r\n        <Messages messages={messages} name={name} />\r\n        <form className='form'>\r\n          <input\r\n            className='input'\r\n            type='text'\r\n            placeholder='Type a message'\r\n            value={message}\r\n            onChange={(event) => setMessage(event.target.value)}\r\n            onKeyPress={(event) =>\r\n              event.key === 'Enter' ? sendMessage(event) : null\r\n            }\r\n          />\r\n          <button className='sendButton' onClick={(e) => sendMessage(e)}>\r\n            Send\r\n          </button>\r\n        </form>\r\n      </div>\r\n      <TextContainer users={users} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Join.css';\r\n\r\nconst Join = () => {\r\n  const [name, setName] = useState('');\r\n  const [room, setRoom] = useState('');\r\n\r\n  return (\r\n    <div className='joinOuterContainer'>\r\n      <div className='joinInnerContainer'>\r\n        <h1 className='heading'>Join</h1>\r\n        <div>\r\n          <input\r\n            className='joinInput'\r\n            placeholder='Name'\r\n            type='text'\r\n            onChange={(event) => {\r\n              setName(event.target.value);\r\n            }}\r\n          />{' '}\r\n        </div>\r\n        <div>\r\n          <input\r\n            className='joinInput mt-20'\r\n            placeholder='Room'\r\n            type='text'\r\n            onChange={(event) => setRoom(event.target.value)}\r\n          />\r\n        </div>\r\n        <Link\r\n          onClick={(event) => (!name || !room ? event.preventDefault() : null)}\r\n          to={`/chat?name=${name}&room=${room}`}\r\n        >\r\n          <button className='button mt-20' type='submit'>\r\n            Sign In\r\n          </button>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Join;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport closeIcon from './icons/closeIcon.png';\r\nimport onlineIcon from './icons/onlineIcon.png';\r\nimport './InfoBar.css';\r\nconst InfoBar = ({ room }) => {\r\n  return (\r\n    <div className='infoBar'>\r\n      <div className='LeftInnerContainer'>\r\n        <img className='onlineIcon' src={onlineIcon} alt='online' />\r\n        <h3>{room}</h3>\r\n      </div>\r\n      <div className='RightInnerContainer'>\r\n        <a href='/'>\r\n          <img src={closeIcon} alt='close' />\r\n        </a>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InfoBar;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII=\"","import React from 'react';\r\nimport './Message.css';\r\nimport ReactEmoji from 'react-emoji';\r\nconst Message = ({ message: { user, text }, name }) => {\r\n  let isSentByCurrentUser = false;\r\n  const trimmedName = name.trim().toLowerCase();\r\n  if (user === trimmedName) {\r\n    isSentByCurrentUser = true;\r\n  }\r\n  return isSentByCurrentUser ? (\r\n    <div className='messageContainer justifyEnd'>\r\n      <p className='sentText pr-10'>{trimmedName}</p>\r\n      <div className='messageBox backgroundBlue'>\r\n        <p className='messageText colorWhite'>{ReactEmoji.emojify(text)}</p>\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <div className='messageContainer justifyStart'>\r\n      <div className='messageBox backgroundLight'>\r\n        <p className='messageText colorDark'>{ReactEmoji.emojify(text)}</p>\r\n      </div>\r\n      <p className='sentText pl-10 '>{user}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport './Messages.css';\r\nimport Message from './../Message/Message';\r\nconst Messages = ({ messages, name }) => {\r\n  for (let i = 0; i < messages.length; i++) {\r\n    console.log(messages[i]);\r\n  }\r\n  return (\r\n    <ScrollToBottom className='messages'>\r\n      {messages.map((message, i) => (\r\n        <div key={i}>\r\n          <Message message={message} name={name} />\r\n        </div>\r\n      ))}\r\n    </ScrollToBottom>\r\n  );\r\n};\r\n\r\nexport default Messages;\r\n","import React from 'react';\r\n\r\nimport onlineIcon from '../InfoBar/icons/onlineIcon.png';\r\n\r\nimport './TextContainer.css';\r\n\r\nconst TextContainer = ({ users }) => (\r\n  <div className='textContainer'>\r\n    <div></div>\r\n    {users ? (\r\n      <div>\r\n        <div className='activeContainer'>\r\n          <h2>\r\n            {users.map(({ name }) => (\r\n              <div key={name} className='activeItem'>\r\n                {name}\r\n                <img alt='Online Icon' src={onlineIcon} />\r\n              </div>\r\n            ))}\r\n          </h2>\r\n        </div>\r\n      </div>\r\n    ) : null}\r\n  </div>\r\n);\r\n\r\nexport default TextContainer;\r\n","import React from 'react';\n\nimport './App.css';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\nimport Join from './components/Join/Join';\nimport Chat from './components/Chat/Chat';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Switch>\n        <Route path='/' exact component={Join} />\n        <Route path='/chat' component={Chat} />\n      </Switch>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}